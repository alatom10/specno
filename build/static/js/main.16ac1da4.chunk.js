(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,a,t){},188:function(e,a,t){e.exports=t(210)},206:function(e,a,t){},210:function(e,a,t){"use strict";t.r(a);var n=t(275),r=t(0),c=t.n(r),o=t(37),i=t.n(o),l=t(20),m=t(56),u=t(139),d=t(29),p=t.n(d),s=t(53),f=t(16),E=(t(133),t(288)),h=t(290);function y(){return r.createElement(h.a,{sx:{display:"flex"}},r.createElement(E.a,null))}var b=t(98),v=t.n(b);t(199),t(202);v.a.initializeApp({apiKey:"AIzaSyBXQZ-QopLnOY180RegC94yutFPnD1IaRs",authDomain:"specnooffice.firebaseapp.com",projectId:"specnooffice",storageBucket:"specnooffice.appspot.com",messagingSenderId:"388081634441",appId:"1:388081634441:web:587648bbc6964778ef4a58",measurementId:"G-R5MLY0QZSF"});var g=v.a.firestore(),x=(v.a,t(277)),O=t(99),j=t(274),w=t(265),N=t(94),C=t.n(N),k=t(301),A=t(300),D=t(270),F=t(267),I=t(266),B=t(264),S=t(145),M=t.n(S),T=t(146),z=t.n(T),W=t(147),P=t.n(W),G=t(148),H=t.n(G),_=t(282),q=t(292),L=t(293),R=t(289),V=t(276);var Y=c.a.memo(function(e){var a=e.id,t=e.companyName,n=e.telephone,r=e.email,o=e.location,i=e.capacity,l=e.employees,m=e.color,u=Object(B.a)(function(e){return{cardHeader:{backgroundColor:""!=m?m:e.palette.action.selected},MuiButtonBase2:{marginLeft:"80%"}}}),d=Object(f.f)(),p=u(),s=Object(f.g)();return c.a.createElement(w.a,{item:!0,xs:12,md:6},c.a.createElement(A.a,null,c.a.createElement(I.a,{title:t,className:p.cardHeader}),c.a.createElement(F.a,null,c.a.createElement(k.a,{className:p.MuiButtonBase2,color:"secondary","aria-label":"edit",onClick:function(){return s.pathname.includes("manage-office")?d.push("/manage-company/".concat(a)):d.push("/manage-office/".concat(a))}},c.a.createElement(M.a,null)),c.a.createElement(x.a,{pt:2,pb:1,px:1},c.a.createElement(O.a,{variant:"h3",component:"h2",gutterBottom:!0},l.length),c.a.createElement(O.a,{variant:"h6",color:"textSecondary",component:"span"}," Employees in office"))),c.a.createElement(D.a,null,c.a.createElement(_.a,{sx:{flexGrow:1}},c.a.createElement(L.a,{expandIcon:c.a.createElement(z.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},c.a.createElement(O.a,null,"More Info")),c.a.createElement(q.a,null,c.a.createElement(V.a,{fullWidth:!0,id:"input-with-icon-textfield",disabled:!0,InputProps:{startAdornment:c.a.createElement(R.a,{position:"start"},"\u260f"),style:{padding:"20px"}},value:n,variant:"standard"}),c.a.createElement(V.a,{fullWidth:!0,disabled:!0,id:"input-with-icon-textfield",InputProps:{startAdornment:c.a.createElement(R.a,{position:"start"},"\u2709"),style:{padding:"20px"}},value:r,variant:"standard"}),c.a.createElement(V.a,{fullWidth:!0,disabled:!0,id:"input-with-icon-textfield",InputProps:{startAdornment:c.a.createElement(R.a,{position:"start"},c.a.createElement(P.a,null)),style:{padding:"20px"}},value:o,variant:"standard"}),c.a.createElement(V.a,{fullWidth:!0,disabled:!0,id:"input-with-icon-textfield",InputProps:{startAdornment:c.a.createElement(R.a,{position:"start"},c.a.createElement(H.a,null)," Office Capacity :"),style:{padding:"20px"}},size:"large",variant:"standard",value:i},i))))))}),X=t(297),Z=t(299),Q=t(291),J=t(298),U=t(294),K=t(273),$=function(){return{type:"TOGGLE"}},ee=t(65),ae=Object(ee.a)([function(e){return e.dialog}],function(e){return e.hidden}),te=t(5),ne=t(18),re=t(13),ce=t(287),oe=t(296),ie=t(302),le=t(280),me=t(284),ue=t(220),de=function(e){return{type:"fetchData",payload:e}},pe=function(e){return{type:"newEmployee",payload:e}},se=function(e){return{type:"newCompany",payload:e}},fe=function(e){return{type:"removeCompany",payload:e}},Ee=function(e){return{type:"removeEmployee",payload:e}},he=Object(ee.a)([function(e){return e.office}],function(e){return e.offices}),ye=function(e){return Object(ee.a)([he],function(a){return a.find(function(a){return a.id===e})})},be=function(e,a){return Object(ee.a)([ye(a)],function(a){return a.employees.find(function(a){return a.id==e})})},ve=t(278),ge={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function xe(e){return r.createElement("div",null,r.createElement(ve.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},r.createElement(h.a,{sx:ge},r.createElement(ue.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Employee Capacity Exceeded"),r.createElement(ue.a,{id:"modal-modal-description",sx:{mt:2}},"Please remove an employee before adding another."))))}var Oe=["Enter employee details","Choose an avatar"],je=[{id:1,link:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"},{id:2,link:"https://images.unsplash.com/flagged/photo-1570612861542-284f4c12e75f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8cGVyc29ufGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60"},{id:3,link:"{https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTh8fHBlcnNvbnxlbnwwfHwwfHw%3D&auto=format&fit=crop&w=500&q=60"},{id:4,link:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cGVyc29ufGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60"}];function we(e){var a=Object(l.c)(be(e.empid,e.id)),t=Object(r.useState)(!1),n=Object(re.a)(t,2),c=n[0],o=n[1],i=e.id,m=r.useState(0),u=Object(re.a)(m,2),d=u[0],f=u[1],E=Object(r.useState)({id:"undefined"===typeof a?"":a.id,firstName:"undefined"===typeof a?"":a.firstName,lastName:"undefined"===typeof a?"":a.lastName,avatar:"undefined"===typeof a?"":a.avatar}),y=Object(re.a)(E,2),b=y[0],v=y[1],g=Object(l.b)();Object(r.useEffect)(function(){console.log("Seeffect: ")},[a]);var x=function(){var a=Object(s.a)(p.a.mark(function a(t){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{g(pe({firstName:N,lastName:C,avatar:k,id:w,compID:i}))}catch(t){console.log("error thrown"+t),o(!0)}e.handleClose();case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),O=function(){var a=Object(s.a)(p.a.mark(function a(t){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:g(Ee({compID:i,id:w})),e.handleClose();case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),j=function(e){var a=e.currentTarget,t=a.value,n=a.name;v(Object(ne.a)({},b,Object(te.a)({},n,t)))},w=b.id,N=b.firstName,C=b.lastName,k=b.avatar;return r.createElement(h.a,{sx:{width:"100%"}},r.createElement(xe,{open:c,handleClose:function(){return o(!1)},handleOpen:function(){return o(!0)}}),r.createElement(me.a,{activeStep:d},Oe.map(function(e,a){var t={};return 3===a&&(t.optional=r.createElement(ue.a,{variant:"caption"},"Optional")),r.createElement(ie.a,Object.assign({key:e},{}),r.createElement(le.a,t,e," "))})),d===Oe.length?r.createElement(r.Fragment,null,r.createElement(ue.a,{sx:{mt:2,mb:1}},"All steps completed - employee saved"),r.createElement(h.a,{sx:{display:"flex",flexDirection:"row",pt:2}},r.createElement(h.a,{sx:{flex:"1 1 auto"}}),r.createElement(X.a,{onClick:function(){f(0)}},"Reset"))):r.createElement(r.Fragment,null,r.createElement(ue.a,{sx:{mt:2,mb:1}},"Step ",d+1,function(e){switch(e){case 0:return r.createElement("div",null,r.createElement(V.a,{autoFocus:!0,margin:"dense",value:N,id:"fname",contentEditable:!0,name:"firstName",label:"First Name",onChange:j,type:"text",fullWidth:!0,variant:"standard",required:!0}),r.createElement(V.a,{autoFocus:!0,margin:"dense",name:"lastName",value:C,contentEditable:!0,id:"lname",onChange:j,label:"Last Name",type:"text",fullWidth:!0,variant:"standard",required:!0}));case 1:return r.createElement("div",null,je.map(function(e){return r.createElement(oe.a,{name:"avatar",id:e.link,key:e.link,value:e.link,onClick:j,sx:{margin:"15px",backgroundColor:e.link===k?"#AEAEAE":""}},r.createElement(ce.a,{component:"IconButton",src:e.link,key:e.link,id:e.link}))}));default:return"foo"}}(d)),r.createElement(h.a,{sx:{display:"flex",flexDirection:"row",pt:2}},r.createElement(X.a,{color:"inherit",disabled:0===d,onClick:function(){f(function(e){return e-1})},sx:{mr:1}},"Back"),r.createElement(h.a,{sx:{flex:"1 1 auto"}}),0!=e.empid&&r.createElement(X.a,{variant:"outlined",color:"error",onClick:O},"Delete Employee"),r.createElement(X.a,{onClick:function(){return d===Oe.length-1?x():void f(function(e){return e+1})}},d===Oe.length-1?"Finish":"Next"))))}var Ne=r.memo(function(e){var a=Object(l.b)(),t=function(){return a($())},n=Object(l.c)(ae);return r.createElement("div",null,r.createElement(Z.a,{open:n,handleClose:t},r.createElement(K.a,null,e.dialogTitle),r.createElement(J.a,null,r.createElement(U.a,null,e.dialogInner),r.createElement(we,Object.assign({handleClose:t},e))),r.createElement(Q.a,null,r.createElement(X.a,{onClick:t},"Cancel"))))});var Ce=function(e,a){a.offices;var t=Object(f.f)(),n=Object(l.c)(he);return c.a.createElement(j.a,{maxWidth:"md"},c.a.createElement(x.a,{pt:8,pb:10,textAlign:"center"},c.a.createElement(k.a,{className:"fab",color:"primary","aria-label":"add",value:0,onClick:function(){return t.push("/manage-company/".concat(1))}},c.a.createElement(C.a,null)),c.a.createElement(Ne,{dialogType:"COMPANY",dialogInner:"Add Office details",dialogTitle:"Add Office"}),c.a.createElement(O.a,{variant:"h4",component:"h2",gutterBottom:!0},"All Companies"),c.a.createElement(w.a,{container:!0,spacing:6},n.map(function(e){return c.a.createElement(Y,e)}))))},ke=t(149),Ae=t.n(ke);function De(){var e=Object(f.f)();return c.a.createElement(oe.a,{sx:{marginRight:"90%"},onClick:function(){return e.goBack()}},c.a.createElement(Ae.a,{fontSize:"large"}))}var Fe=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#00FFFF","#FF00FF"];Object(B.a)(function(e){return{cardHeader:{backgroundColor:e.palette.action.selected},MuiButtonBase2:{marginLeft:"80%"}}});var Ie=c.a.memo(function(e){var a=Object(f.f)(),t=Object(f.h)().id,n=1==t?"Add Office":"Edit Office",o=Object(l.c)(ye(t)),i=Object(r.useState)({id:"undefined"===typeof o?-1:o.id,companyName:"undefined"===typeof o?"":o.companyName,telephone:"undefined"===typeof o?"":o.telephone,email:"undefined"===typeof o?"":o.email,location:"undefined"===typeof o?"":o.location,capacity:"undefined"===typeof o?"":o.capacity,color:"undefined"===typeof o?"":o.color}),m=Object(re.a)(i,2),u=m[0],d=m[1],E=Object(l.b)(),h=function(e){var a=e.currentTarget,t=a.value,n=a.name;d(Object(ne.a)({},u,Object(te.a)({},n,t)))},y=function(){var e=Object(s.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.push("/"),E(fe(u.id));case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.push("/"),E(se(u));case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),v=u.companyName,g=u.telephone,O=u.email,N=u.location,C=u.capacity;return u.color,c.a.createElement("section",null,c.a.createElement(j.a,{maxWidth:"md"},c.a.createElement(x.a,{pt:8,pb:10,textAlign:"center"},c.a.createElement(w.a,{container:!0,spacing:6},c.a.createElement(w.a,{item:!0,xs:12,md:12},c.a.createElement(A.a,null,c.a.createElement(De,null),c.a.createElement(I.a,{title:n,InputProps:{startAdornment:c.a.createElement(R.a,null,c.a.createElement(De,null))}}),c.a.createElement(F.a,null,c.a.createElement("form",{onSubmit:b},c.a.createElement(V.a,{sx:{width:"90%",padding:"20px"},size:"normal",id:"companyName",placeholder:"Company Name",name:"companyName",value:v,required:!0,not:!0,null:!0,onChange:h}),c.a.createElement(V.a,{sx:{width:"90%",padding:"20px"},size:"normal",id:"telephone",placeholder:"Telephone",value:g,name:"telephone",required:!0,onChange:h}),c.a.createElement(V.a,{sx:{width:"90%",padding:"20px"},size:"normal",id:"email",value:O,placeholder:"Email",name:"email",required:!0,onChange:h}),c.a.createElement(V.a,{sx:{width:"90%",padding:"20px"},size:"normal",id:"location",value:N,placeholder:"Location",name:"location",required:!0,onChange:h}),c.a.createElement(V.a,{sx:{width:"90%",padding:"20px"},size:"normal",name:"capacity",type:"number",placeholder:" Office Capacity",id:"capacity",required:!0,value:C,onChange:h}),c.a.createElement(ue.a,{variant:"h5",component:"h5",gutterBottom:!0}," Office Colour"),Fe.map(function(e){return c.a.createElement(oe.a,{name:"color",id:"color",key:e,value:e,size:"large",sx:{borderWidth:"8px",borderStyle:"solid",padding:"20px",backgroundColor:e,margin:"20px",borderColor:u.color===e?"#AEAEAE":"white"},onClick:h})}),c.a.createElement(ue.a,{sx:{mt:2,mb:1}},function(){switch(t){case"1":return c.a.createElement(w.a,{container:!0,direction:"column",spacing:3},c.a.createElement(w.a,{item:!0,xs:12},c.a.createElement(X.a,{type:"submit",variant:"contained",size:"large"},"Add Office")));default:return c.a.createElement(w.a,{container:!0,direction:"column",spacing:3},c.a.createElement(w.a,{item:!0,xs:12},c.a.createElement(X.a,{type:"submit",variant:"contained",size:"large"},"Save Changes")),c.a.createElement(w.a,{item:!0,xs:12},c.a.createElement(X.a,{id:"error",onClick:y,variant:"outlined",color:"error",size:"large"},"Delete Office")))}}())))))))))}),Be=t(151),Se=t.n(Be),Me=t(150),Te=t.n(Me);var ze=c.a.memo(function(e){var a=Object(f.h)().id,t=Object(l.c)(ye(a)),n=Object(r.useState)(""),o=Object(re.a)(n,2),i=o[0],m=o[1],u=Object(r.useState)(""),d=Object(re.a)(u,2),p=d[0],s=d[1],E=t.employees.filter(function(e){return(e.firstName.includes(p)||e.lastName.includes(p))&&e}),h=Object(l.b)(),y=function(e){var a=e.currentTarget,t=a.value;a.name,h($()),m(t)};return c.a.createElement("div",{className:"homepage"},c.a.createElement(j.a,{paddingTop:"1000vh",sx:{marginTop:"100px"}},c.a.createElement(Ne,{empid:i,show:!1,id:a,dialogType:"EMP"}),c.a.createElement(k.a,{className:"fab",color:"primary","aria-label":"add",value:0,onClick:y},c.a.createElement(C.a,null)),c.a.createElement(x.a,{p:2,pt:1,pb:10,textAlign:"center",bgcolor:"white"},c.a.createElement(De,null),c.a.createElement(Y,t),c.a.createElement(V.a,{fullWidth:!0,textAlign:"center",placeholder:"Search...",onChange:function(e){var a=e.currentTarget.value;s(a)},id:"search",InputProps:{inputProps:{style:{textAlign:"center"}},startAdornment:c.a.createElement(R.a,{position:"start"},c.a.createElement(Te.a,null)),endAdornment:c.a.createElement(R.a,{position:"start"},E.length)}}),E.length>0?E.map(function(e){return c.a.createElement(V.a,{fullWidth:!0,disabled:!0,value:e.firstName+" "+e.lastName,textAlign:"center",InputProps:{inputProps:{style:{textAlign:"center"}},startAdornment:c.a.createElement(R.a,{position:"start"},c.a.createElement(ce.a,{src:e.avatar})),endAdornment:c.a.createElement(R.a,{position:"start"},c.a.createElement(oe.a,{name:"fd",value:e.id,onClick:y},c.a.createElement(Se.a,null)))}},e.firstName)}):c.a.createElement(O.a,{sx:{mt:2,mb:1}}," No employees available   "))))}),We=function(){var e=Object(l.b)();return Object(r.useEffect)(function(){var a;g.collection("companies").onSnapshot(function(){var t=Object(s.a)(p.a.mark(function t(n){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n.docs.map(function(e){var a=e.data(),t=a.companyName,n=a.telephone,r=a.color,c=a.email,o=a.location,i=a.capacity,l=a.employees;return{id:e.id,companyName:t,telephone:n,color:r,email:c,location:o,capacity:i,employees:l}}),e(de(a));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[]),c.a.createElement("div",null,c.a.createElement(f.c,null,c.a.createElement(r.Suspense,{fallback:c.a.createElement(y,null)},c.a.createElement(f.a,{exact:!0,path:"/",component:Ce}),c.a.createElement(f.a,{path:"/manage-office/:id",component:ze}),c.a.createElement(f.a,{path:"/manage-company/:id",component:Ie}))))},Pe=(t(206),t(46)),Ge=t(95),He=t(153),_e=t.n(He),qe=t(154),Le=t.n(qe),Re=t(281),Ve=function(e,a){var t=e.find(function(e){return e.id===a.compID});t.employees.find(function(e){return e.id==a.id})&&(t.employees=t.employees.filter(function(e){return e.id!==a.id}));g.collection("companies").doc(a.compID).set(Object(ne.a)({},t));return e.map(function(e){return e.id===a.compID?Object(ne.a)({},e,e.employees):Object(ne.a)({},e)})},Ye=function(e,a){var t=e.find(function(e){return e.id===a.compID}),n=t.employees.find(function(e){return e.id==a.id});if(n)n={id:a.id,firstName:a.firstName,lastName:a.lastName,avatar:a.avatar},t.employees=t.employees.map(function(e){return e.id==a.id?n:e});else{if(t.employees.length>=t.capacity)throw new Error("capcity exceeded");n={id:t.employees.length+1,firstName:a.firstName,lastName:a.lastName,avatar:a.avatar};t.employees.push(n)}g.collection("companies").doc(a.compID).set(Object(ne.a)({},t,{employees:t.employees}));return e.map(function(e){return e.id===a.compID?Object(ne.a)({},e,e.employees):Object(ne.a)({},e)})},Xe=function(e,a){var t;if(e.find(function(e){return e.id===a.id})){g.collection("companies").doc(a.id).update({companyName:a.companyName,telephone:a.telephone,email:a.email,location:a.location,capacity:a.capacity,color:a.color});t=Object(ne.a)({},a)}else{t=Object(ne.a)({id:Object(Re.a)(),employees:[]},a);e.push(t),g.collection("companies").add(t)}return e.map(function(e){return e})},Ze={offices:[{id:1,company:"comp00231",telephone:"0000",email:"1@1.com",location:"durban",capacity:10,employees:[{id:1,firstName:"user 1",lastName:"test"},{id:2,firstName:"user 2",lastName:"senor",avatar:4}]},{id:2,company:"comp2",telephone:"0000",email:"1@1.com",location:"durban",capacity:10,employees:[{id:1,firstName:"geremi",lastName:"user 43"},{id:2,firstName:"user 2",lastName:"",avatar:4}]}]},Qe=function(){var e,a,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"fetchData":return Object(ne.a)({},t,{offices:n.payload});case"newEmployee":return Object(ne.a)({},t,{offices:Ye(t.offices,n.payload)});case"removeEmployee":return Object(ne.a)({},t,{offices:Ve(t.offices,n.payload)});case"newCompany":return Object(ne.a)({},t,{offices:Xe(t.offices,n.payload)});case"removeCompany":return Object(ne.a)({},t,{offices:(e=t.offices,a=n.payload,g.collection("companies").doc(a).delete(),e.filter(function(e){return e.id!==a}))});default:return t}},Je={hidden:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TOGGLE":return console.log("dialogReducer action.type2:"+a.type),Object(ne.a)({},e,{hidden:!e.hidden});default:return e}},Ke={key:"root",storage:Le.a,whitelist:["office"]},$e=Object(Pe.b)({office:Qe,dialog:Ue}),ea=Object(Ge.a)(Ke,$e),aa=[_e.a],ta=Object(Pe.c)(ea,Pe.a.apply(void 0,aa)+window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),na=Object(Ge.b)(ta);i.a.render(c.a.createElement(l.a,{store:ta},c.a.createElement(m.a,null,c.a.createElement(u.a,{persistor:na},c.a.createElement(n.a,{injectFirst:!0},c.a.createElement(We,null))))),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.16ac1da4.chunk.js.map